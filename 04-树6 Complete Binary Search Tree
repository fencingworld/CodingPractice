#include <iostream>
#define N 1000
///1931-

using namespace std;
int sc[N+1];
int n;
void getmax(int i) {
    if (2*i>n) {
        return;
    } else if (4*i<=n) {
        getmax(2*i);
        getmax(2*i+1);
        if (2*i<=n) {
            if (sc[2*i]>sc[i]) {
                swap(sc[2*i],sc[i]);
            }
        }
        if (2*i+1<=n) {
            if (sc[2*i+1]>sc[i]) {
                swap(sc[2*i+1],sc[i]);
            }
        }

    } else {
        if (2*i<=n) {
            if (sc[2*i]>sc[i]) {
                swap(sc[2*i],sc[i]);
            }
        }
        if (2*i+1<=n) {
            if (sc[2*i+1]>sc[i]) {
                swap(sc[2*i+1],sc[i]);
            }
        }
    }


}
void getmin(int i) {
    if (2*i>n) {
        return;
    } else if (4*i<=n) {
        getmin(2*i);
        getmin(2*i+1);
        if (2*i<=n) {
            if (sc[2*i]<sc[i]) {
                swap(sc[2*i],sc[i]);
            }
        }
        if (2*i+1<=n) {
            if (sc[2*i+1]<sc[i]) {
                swap(sc[2*i+1],sc[i]);
            }
        }

    } else {
        if (2*i<=n) {
            if (sc[2*i]<sc[i]) {
                swap(sc[2*i],sc[i]);
            }
        }
        if (2*i+1<=n) {
            if (sc[2*i+1]<sc[i]) {
                swap(sc[2*i+1],sc[i]);
            }
        }
    }

}
int  maxlf(int t) {

    getmax(t);
    return sc[t];
}
int minrt(int t) {

    getmin(t);
    return sc[t];
}
void dis() {
    int i;
    for (i=1; i<=n; i++) {
        cout<<sc[i];
        if (i==n)
        {
            cout<<endl;
        }
        else {
            cout<<" ";
        }
    }
  //  cout<<endl;
}
int main() {
    int i,mid,rt,lf;
    cin>>n;
    for (i=1; i<=n; i++) {
        cin>>sc[i];
    }
    for (i=1; i<=n/2; i++) {
        while(1) {
            // cout<<".";
            //  cout<<endl<<sc[2*i]<<" "<<sc[i]<<" "<<sc[2*i+1]<<endl;
            //  dis();
            mid=sc[i];
            if (2*i<=n) {
                lf=maxlf(2*i);
            }
            if (2*i+1<=n) {
                rt=minrt(2*i+1);
            }
            if (2*i+1<=n) {
                if (lf<=mid&&mid<=rt) {
                    break;
                }
                if (lf>mid) {
                    swap(lf,mid);
                }
                if (lf>rt) {
                    swap(lf,rt);
                }
                if (mid>rt) {
                    swap(mid,rt);
                }
                sc[2*i]=lf;
                sc[i]=mid;
                sc[2*i+1]=rt;
            } else if (2*i==n) {
                if (lf<=mid) {
                    break;
                }
                if (lf>mid) {
                    swap(lf,mid);
                }
                sc[2*i]=lf;
                sc[i]=mid;
            }





        }

    }
    dis();

    return 0;
}
